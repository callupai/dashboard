webpackJsonp([1],{0:function(t,e){},"0x+N":function(t,e){},"3z5P":function(t,e,n){"use strict";function o(t){n("tE7u")}var r=n("IOPY"),i=n("g+JV"),s=n("VU/8"),a=o,c=s(r.a,i.a,!1,a,"data-v-2e7a9f56",null);e.a=c.exports},IOPY:function(t,e,n){"use strict";var o=n("7+uW"),r=n("c+8m"),i=n.n(r),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.snackbar_tkt="",e}return s(e,t),e.prototype.onClick=function(){console.log("a non-vuex method has been called")},e.prototype.intentCorrectionPage=function(t){this.$router.push({name:"MarkCorrectIntent",params:{ticket_id:t.reference_id}})},e.prototype.markAsCorrect=function(t){var e=this;e.$store.state.client.jsonApi.update("ticket",{id:t.reference_id,corrected_intent:t.predicted_intent}).then(function(t){console.log("update ticket response",t),e.$store.commit("refreshTickets")})},e.prototype.showSnackbar=function(t){this.snackbar_tkt=t;var e=document.getElementById("snackbar");e.className="show",setTimeout(function(){e.className=e.className.replace("show","")},3e3)},e=a([i()({})],e)}(o.default);e.a=c},Lpdu:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("el-dialog",{attrs:{title:"Call-Up Trainer Login",visible:t.dialogVisible,width:"30%","close-on-press-escape":!1,"show-close":!1,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",{staticClass:"auth-form",attrs:{model:t.authForm}},[n("el-form-item",{attrs:{label:"Username"}},[n("el-input",{attrs:{placeholder:"Email"},model:{value:t.authForm.username,callback:function(e){t.$set(t.authForm,"username",e)},expression:"authForm.username"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"Password"}},[n("el-input",{attrs:{type:"password"},model:{value:t.authForm.password,callback:function(e){t.$set(t.authForm,"password",e)},expression:"authForm.password"}})],1)],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:t.tryLogin}},[t._v("Login")])],1)],1),t._v(" "),t.$store.state.user.token?n("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal"}},[n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[t._v("User "+t._s(t.userProfile.email))]),t._v(" "),n("el-menu-item",{attrs:{index:"2-1"},on:{click:t.logout}},[t._v("Logout")])],2)],1):t._e(),t._v(" "),t.$store.state.user.token?n("router-view"):t._e()],1)},r=[],i={render:o,staticRenderFns:r};e.a=i},M93x:function(t,e,n){"use strict";function o(t){n("0x+N")}var r=n("edak"),i=n("Lpdu"),s=n("VU/8"),a=o,c=s(r.a,i.a,!1,a,null,null);e.a=c.exports},"P/YC":function(t,e,n){"use strict";var o=n("7+uW"),r=n("c+8m"),i=n.n(r),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ticketId="",e.ticket={},e.correctIntent={},e}return s(e,t),e.prototype.chooseIntent=function(t){this.correctIntent=t},e.prototype.cancelUpdate=function(){this.$router.push({name:"TicketTable"})},e.prototype.setIntent=function(){var t=this;console.log("update on server"),t.$store.state.client.jsonApi.update("ticket",{id:t.$route.params.ticket_id,corrected_intent:t.correctIntent}).then(function(e){console.log("update ticket response",e),t.$store.commit("refreshTickets"),t.$router.push({name:"TicketTable"})}),console.log("update server")},e.prototype.mounted=function(){var t=this;this.ticketId=this.$route.params.ticket_id,console.log("loaded mark correct intent",this.ticketId,this.$store.state),this.$store.state.client.jsonApi.find("ticket",this.ticketId,{included_relations:"intent"}).then(function(e){t.ticket=e.data,console.log("loaded ticket",e.data)})},e=a([i()({name:"LinkComponent"})],e)}(o.default);e.a=c},"V/Al":function(t,e,n){"use strict";var o=n("7+uW"),r=n("NYxO"),i=n("MFtw");n.n(i);o.default.use(r.a);var s=window.localStorage.getItem("token"),a=new i.DaptinClient("http://dashboard.callup.ai:8080",!1);a.worldManager.loadModels().then(function(){s&&(a.jsonApi.findAll("ticket",{included_relations:"intent",page:u.ticketPagination}).then(function(t){console.log("all tickets",t.data),u.tickets=t.data}),a.jsonApi.findAll("intent").then(function(t){console.log("all intents",t.data),u.intents=t.data}))});var c={reverse:function(t){return t.links.reverse()},logout:function(t){t.user={}},refreshTickets:function(t){t.user.token&&a.jsonApi.findAll("ticket",{included_relations:"intent",page:t.ticketPagination}).then(function(e){console.log("all tickets",e.data),t.tickets=e.data})},refreshIntents:function(t){t.user.token&&a.worldManager.loadModel("intent").then(function(e){a.jsonApi.findAll("intent").then(function(e){console.log("intents",e),t.intents=e})})}},l={},u={links:[{url:"https://vuejs.org",description:"Core Docs"}],tickets:[],intents:[],client:a,user:{token:s},ticketPagination:{size:100,number:1}};e.a=new r.a.Store({state:u,mutations:c,actions:l})},edak:function(t,e,n){"use strict";var o=n("7+uW"),r=n("c+8m"),i=n.n(r),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dialogVisible=!1,e.userProfile={},e.name="app",e.authForm={username:"",password:""},e}return s(e,t),e.prototype.tryLogin=function(){console.log("login",this.authForm),this.$store.state.client.actionManager.doAction("user","signin",{email:this.authForm.username,password:this.authForm.password}).then(function(t){console.log("sign in action response",t)})},e.prototype.logout=function(){window.localStorage.clear(),this.$store.commit("logout"),this.dialogVisible=!0},e.prototype.showLogin=function(){console.log("show login dialog"),this.dialogVisible=!0},e.prototype.mounted=function(){if(console.log("mounted app",this.$store.state.user.token),this.$store.state.user.token||(this.dialogVisible=!0),this.$store.state.user.token){var t=JSON.parse(window.localStorage.getItem("user"));this.userProfile=t}},e=a([i.a],e)}(o.default);e.a=c},"g+JV":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),n("tbody",t._l(this.$store.state.tickets,function(e){return e?n("tr",[n("td",[n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(n){t.intentCorrectionPage(e)}}},[t._v("Wrong")])]),t._v(" "),n("td",[t._v(t._s(e.merchant_ticket_number))]),t._v(" "),n("td",[t._v(t._s(e.description))]),t._v(" "),n("td",[t._v(t._s(e.predicted_intent?e.predicted_intent.intent_name:""))]),t._v(" "),n("td",[t._v(t._s(e.corrected_intent?e.corrected_intent.intent_name:""))]),t._v(" "),n("td",[t._v(t._s(e.confidence)+"%")]),t._v(" "),n("td",[n("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(n){t.markAsCorrect(e)}}},[t._v("Correct")])])]):t._e()}))])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th"),t._v(" "),n("th",[t._v("Ticket Id")]),t._v(" "),n("th",[t._v("Description")]),t._v(" "),n("th",[t._v("Predict Intent")]),t._v(" "),n("th",[t._v("Correct Intent")]),t._v(" "),n("th",[t._v("Confidence")]),t._v(" "),n("th")])])}],i={render:o,staticRenderFns:r};e.a=i},l8pk:function(t,e,n){"use strict";function o(t){n("qWMQ")}var r=n("P/YC"),i=n("lT8X"),s=n("VU/8"),a=o,c=s(r.a,i.a,!1,a,"data-v-bd677658",null);e.a=c.exports},lT8X:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{"text-align":"center","padding-top":"30px"}},[t._v("\n    What is the correct intent?\n    "),n("br"),t._v(" "),n("h4",[t._v(t._s(this.ticket.description))])]),t._v(" "),n("div",{staticClass:"centroid"},[n("div",{staticClass:"btn-matrix"},[t._v("\n      "+t._s(t.ticket.predicted_intent)+"\n      "),t._l(this.$store.state.intents,function(e){return n("button",{staticClass:"btn btn-outline-success",attrs:{type:"button"},on:{click:function(n){t.chooseIntent(e)}}},[t._v("\n        "+t._s(e.intent_name)+"\n      ")])})],2)]),t._v(" "),n("div",{staticClass:"centroid"},[n("el-form",[n("el-form-item",[n("el-input",{staticClass:"form-control",attrs:{type:"text",value:t.correctIntent.intent_name,id:"intent_value",placeholder:"correct intent"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.setIntent}},[t._v("Update")]),t._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:t.cancelUpdate}},[t._v("Cancel")])],1)],1)],1)])},r=[],i={render:o,staticRenderFns:r};e.a=i},qWMQ:function(t,e){},tE7u:function(t,e){},tvR6:function(t,e){},x35b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),r=n("M93x"),i=n("yDEt"),s=n("V/Al"),a=n("zL8q"),c=n.n(a),l=n("tvR6");n.n(l);o.default.use(c.a),o.default.config.productionTip=!1,new o.default({el:"#app",router:i.a,store:s.a,template:"<App/>",components:{App:r.a}})},yDEt:function(t,e,n){"use strict";var o=n("7+uW"),r=n("/ocq"),i=n("3z5P"),s=n("l8pk");o.default.use(r.a);var a={routes:[{path:"/",name:"TicketTable",component:i.a},{path:"/mark_correct_intent/:ticket_id",name:"MarkCorrectIntent",component:s.a,props:!0}]};e.a=new r.a(a)}},["x35b"]);
//# sourceMappingURL=app.03d778b97eaa7579472f.js.map